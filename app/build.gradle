apply plugin: 'com.android.application'
//apply plugin: 'newlens'

android {
    compileSdkVersion 23
    buildToolsVersion "23.0.2"

    defaultConfig {
        applicationId "com.appublisher.quizbank"
        minSdkVersion 10
        targetSdkVersion 21
        versionCode 42
        versionName "1.7.1"

        //参数
        manifestPlaceholders = [
                GT_APPID: rootProject.ext.GT_APPID,
        ]
    }

    sourceSets {
        main {
            jniLibs.srcDirs = ['libs']
            res.srcDirs = ['src/main/res', 'src/main/res-offline', 'src/main/res-opencourse']
        }
    }

    // 渠道
    productFlavors {
        other {
            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
                                    APP_CHANNEL: "other"]
        }

//        meizu {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "meizu"]
//        }
//
//        baidu {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "baidu"]
//        }
//
//        huawei {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "huawei"]
//        }
//
//        xiaomi {
//            manifestPlaceholders = [APP_NAME   : "天天模考公务员",
//                                    APP_CHANNEL: "xiaomi"]
//        }
//
//        wandoujia {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "wandoujia"]
//        }
//
//        taobao {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "taobao"]
//        }
//
//        tencent {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "tencent"]
//        }
//
//        qihoo {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "360"]
//        }
//
//        oppo {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "oppo"]
//        }

//        suimishouye {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "suimishouye"]
//        }
//
//        suimiyejiao {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "suimiyejiao"]
//        }

//        vivo {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "vivo"]
//        }
//
//        samsung {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "samsung"]
//        }
//
//        BDsem {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "BDsem"]
//        }
//
//        qudao_360tui {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "360tui"]
//        }
//
//        AppUpdate {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "AppUpdate"]
//        }
//
//        微信 {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "微信"]
//        }

//
//        appub {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "appub"]
//        }
//
//        ZHT01 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "ZHT01"]
//        }
//
//        ZHT02 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "ZHT02"]
//        }
//
//        ZHT03 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "ZHT03"]
//        }

//        BDcpd {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "BDcpd"]
//        }
//
//        liebao {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "liebao"]
//        }

//        sem {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem"]
//        }
//
//        sem01 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem01"]
//        }
//
//        sem02 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem02"]
//        }
//
//        sem03 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem03"]
//        }
//
//        sem04 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem04"]
//        }
//
//        sem05 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem05"]
//        }
//
//        sem06 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem06"]
//        }
//
//        sem07 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem07"]
//        }
//
//        sem08 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem08"]
//        }
//
//        sem09 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem09"]
//        }
//
//        sem10 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem10"]
//        }
//
//        sem11 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem11"]
//        }
//
//        sem12 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem12"]
//        }
//
//        sem13 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem13"]
//        }
//
//        sem14 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem14"]
//        }
//
//        sem15 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem15"]
//        }
//
//        sem16 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem16"]
//        }
//
//        sem17 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem17"]
//        }
//
//        sem18 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem18"]
//        }
//
//        sem19 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem19"]
//        }
//
//        sem20 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "sem20"]
//        }

//        信息流01 {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "信息流01"]
//        }
//
//        信息流02 {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "信息流02"]
//        }
//
//        信息流03 {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "信息流03"]
//        }
//
//        信息流04 {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "信息流04"]
//        }
//
//        信息流05 {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "信息流05"]
//        }

//        信息流06 {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "信息流06"]
//        }
//
//        信息流07 {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "信息流07"]
//        }
//
//        信息流08 {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "信息流08"]
//        }
//
//        信息流09 {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "信息流09"]
//        }
//
//        信息流10 {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "信息流10"]
//        }

//        huodong360 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "360huodong"]
//        }
//
//        tuijian360 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "360tuijian"]
//        }
//
//        ruanjian360 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "360ruanjian"]
//        }
//
//        zhanshi360 {
//            manifestPlaceholders = [APP_NAME   : "天天模考·腰果公务员",
//                                    APP_CHANNEL: "360zhanshi"]
//        }
//
//        公众号 {
//            manifestPlaceholders = [APP_NAME   : "天天模考腰果公务员",
//                                    APP_CHANNEL: "公众号"]
//        }

        buildTypes {
            release {
                minifyEnabled true
                proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'

                applicationVariants.all { variant ->
                    variant.outputs.each { output ->
                        def outputFile = output.outputFile
                        if (outputFile != null && outputFile.name.endsWith('.apk')) {
                            //noinspection GroovyAssignabilityCheck
                            def apkFile = new File(
                                    output.outputFile.getParent(),
                                    "QuizBank_${variant.versionName}" +
                                            "_${variant.flavorName}.apk")
                            output.outputFile = apkFile
                        }
                    }
                }
            }
        }

    }
}

repositories {
    flatDir {
        dirs 'libs'
    }
}

dependencies {
    compile fileTree(include: ['*.jar'], dir: 'libs')
    compile 'org.apmem.tools:layouts:1.8@aar'
    compile project(':treeviewlib')
    compile project(':diagramlib')
    compile 'com.coolerfall:android-http-download-manager:1.5.1'
    // for duobeiyun
    compile 'com.liulishuo.filedownloader:library:0.2.0'
    compile(name:'multi-image-selector', ext:'aar')

    compile project(':lib_basic')
    compile project(':lib_login')
    compile project(':lib_pay')
    compile project(':lib_course')
}

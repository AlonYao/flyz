apply plugin: 'com.android.application'
//apply plugin: 'newlens'

android {
    compileSdkVersion 22
    buildToolsVersion "21.1.2"

    defaultConfig {
        applicationId "com.appublisher.quizbank"
        minSdkVersion 10
        targetSdkVersion 21
        versionCode 23
        versionName "1.4.2"
    }

    buildTypes {
        release {
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'

            applicationVariants.all { variant ->
                variant.outputs.each { output ->
                    def outputFile = output.outputFile
                    if (outputFile != null && outputFile.name.endsWith('.apk')) {
                        //noinspection GroovyAssignabilityCheck
                        def apkFile = new File(
                                output.outputFile.getParent(),
                                "QuizBank_${variant.versionName}" +
                                        "_${variant.flavorName}.apk")
                        output.outputFile = apkFile
                    }
                }
            }
        }
    }

    sourceSets {
        main {
            jniLibs.srcDirs = ['libs']
            res.srcDirs = ['src/main/res', 'src/main/res-offline']
        }
    }

    // 渠道
    productFlavors {
        other {
            manifestPlaceholders = [APP_NAME: "天天模考·腰果公务员",
                                    APP_CHANNEL: "other"]
        }

        meizu {
            manifestPlaceholders = [APP_NAME: "天天模考·腰果公务员",
                                    APP_CHANNEL: "meizu"]
        }

        baidu {
            manifestPlaceholders = [APP_NAME: "天天模考·腰果公务员",
                                    APP_CHANNEL: "baidu"]
        }

        huawei {
            manifestPlaceholders = [APP_NAME: "天天模考·腰果公务员",
                                    APP_CHANNEL: "huawei"]
        }

        xiaomi {
            manifestPlaceholders = [APP_NAME: "天天模考公务员",
                                    APP_CHANNEL: "xiaomi"]
        }

        wandoujia {
            manifestPlaceholders = [APP_NAME: "天天模考腰果公务员",
                                    APP_CHANNEL: "wandoujia"]
        }

        taobao {
            manifestPlaceholders = [APP_NAME: "天天模考腰果公务员",
                                    APP_CHANNEL: "taobao"]
        }

        tencent {
            manifestPlaceholders = [APP_NAME: "天天模考腰果公务员",
                                    APP_CHANNEL: "tencent"]
        }

        qihoo {
            manifestPlaceholders = [APP_NAME: "天天模考腰果公务员",
                                    APP_CHANNEL: "360"]
        }

        oppo {
            manifestPlaceholders = [APP_NAME: "天天模考腰果公务员",
                                    APP_CHANNEL: "oppo"]
        }
    }
}

repositories {
    flatDir {
        dirs 'libs'
    }
}

dependencies {
    compile fileTree(include: ['*.jar'], dir: 'libs')
    compile 'com.android.support:appcompat-v7:22.2.1'
    compile 'com.android.support:support-v4:22.2.1'
    compile 'com.google.code.gson:gson:2.5'
    compile 'com.umeng.analytics:analytics:latest.integration'
    compile project(':umeng')
//    compile 'com.networkbench.newlens.agent.android:nbs.newlens.agent:2.2.5'
    compile 'com.michaelpardo:activeandroid:3.1.0-SNAPSHOT'
    compile 'com.makeramen:roundedimageview:2.0.1'
    compile 'com.umeng:fb:5.1.0'
    compile 'org.apmem.tools:layouts:1.8@aar'
    compile project(':treeviewlib')
    compile project(':diagramlib')
    compile 'com.github.chrisbanes.photoview:library:1.2.3'
    compile 'com.squareup.picasso:picasso:2.5.2'
    compile 'com.jakewharton:disklrucache:2.0.2'
    //noinspection GradleDynamicVersion
    compile 'com.mcxiaoke.volley:library:1.0.19'
    compile(name: 'duobeiyundownload', ext: 'aar')
    compile 'com.coolerfall:android-http-download-manager:1.5.1'
}
